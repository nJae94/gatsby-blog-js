{"version":3,"sources":["webpack:///./src/layout/index.js","webpack:///./src/components/tableOfContents/index.js","webpack:///./src/templates/blog-post.js"],"names":["Layout","location","title","children","useState","show","setShow","prev","useEffect","Scroll","curScrollY","window","pageYOffset","document","addEventListener","removeEventListener","Fragment","rootPath","className","style","marginTop","Date","getFullYear","href","TableOfContents","item","currentHeaderUrl","Item","useMemo","replace","dangerouslySetInnerHTML","__html","BlogPostTemplate","data","pageContext","post","markdownRemark","metaData","site","siteMetadata","siteUrl","author","sponsor","frontmatter","postTitle","date","undefined","currentUrl","setCurrentUrl","handleScroll","aboveHeaderUrl","currentOffsetY","headerElements","querySelectorAll","el","elTop","getBoundingClientRect","top","isLast","length","split","origin","tableOfContents","html","pageQuery"],"mappings":"uHAAA,+CAmDeA,IA9CA,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAAe,EAGxBC,oBAAS,GAA1BC,EAHyC,KAGnCC,EAHmC,OAKxBF,mBAAS,GAA1BG,EALyC,UAyBhD,OAlBAC,qBAAU,WACR,IAAMC,EAAS,WACb,IAAMC,EAAaC,OAAOC,YAGxBN,IADEI,EAAa,IAAMH,EAAOG,KAShC,OAFAG,SAASC,iBAAiB,SAAUL,GAE7B,WACLI,SAASE,oBAAoB,SAAUN,MAExC,CAACF,IAGF,kBAAC,IAAMS,SAAP,KACE,kBAAC,IAAD,CACEd,MAAOA,EACPD,SAAUA,EACVgB,SA7BQ,IA8BRZ,KAAMA,IAGR,yBAAKa,UAAW,iBAAkBC,MAAO,CAAEC,UAAW,SACpD,8BAAOjB,GACP,sCACK,IAAIkB,MAAOC,cADhB,mBAGE,uBAAGC,KAAK,4BAAR,e,uKCvCK,SAASC,EAAT,GAAoD,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,iBAErCC,EAAOC,mBAAQ,WAEjB,OAAIF,EAEOD,EAAKI,QAAL,IACCH,EADD,QAECA,EAFD,qBAKAD,IAEb,CAACC,IAGH,OAAOD,EAEP,yBAAKP,UAAU,QACH,yBACAA,UAAU,MACVY,wBAAyB,CAAEC,OAAQJ,MAI7C,K,k0BC8CSK,UAtEU,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAmBhC,GAAe,EAA5BiC,YAA4B,EAAfjC,UACvCkC,EAAOF,EAAKG,eACZC,EAAWJ,EAAKK,KAAKC,aAFiC,GAGhBF,EAApCnC,MAAoCmC,EAA7BG,QAA6BH,EAApBI,OAAoBJ,EAAZK,QACGP,EAAKQ,aAAzBC,EAJ6C,EAIpD1C,MAJoD,KAIlC2C,KAEUzC,wBAAS0C,IAAtCC,EANqD,KAMzCC,EANyC,KA0C5D,OAlCAxC,qBAAU,WACR,IAAMyC,EAAe,WAOnB,IANA,IAAIC,EAMJ,EAJMC,EAAiBxC,OAAOC,YAExBwC,EAAiBvC,SAASwC,iBAAT,kBAEvB,IAAiBD,KAAjB,aAAiC,CAAC,IAAvBE,EAAsB,QAGzBC,EAFUD,EAAGE,wBAAXC,IAEYN,EAEdO,EAASJ,IAAOF,EAAeA,EAAeO,OAAS,GAE7D,GAAIR,EAAiBI,EAAQ,IAAK,CAChCL,GACEF,EAAcE,EAAeU,MAAM3D,EAAS4D,QAAQ,KACrDX,GAAkBF,OAAcF,GACjC,MAEAY,GAAUV,EAAcM,EAAG/B,KAAKqC,MAAM3D,EAAS4D,QAAQ,KACtDH,IAAWR,EAAiBI,EAAG/B,QAOtC,OAFAZ,OAAOG,iBAAiB,SAAUmC,GAE3B,WACLtC,OAAOI,oBAAoB,SAAUkC,MAEtC,IAGD,kBAAC,IAAD,CAAQhD,SAAUA,EAAUC,MAAO0C,GACjC,yBAAK1B,UAAU,gBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,kBACb,4BAAK0B,GACL,yBAAK1B,UAAU,mBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,QACb,kBAACM,EAAD,CACEC,KAAMQ,EAAKG,eAAe0B,gBAC1BpC,iBAAkBqB,QAO5B,yBACE7B,UAAU,eACVY,wBAAyB,CAAEC,OAAQI,EAAK4B,YA9DpD,IAwEaC,EAAS","file":"component---src-templates-blog-post-js-d943fc45205e1b89b912.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Header } from \"../components/header\"\n\nimport \"./index.scss\"\n\nconst Layout = ({ location, title, children }) => {\n  const rootPath = `${__PATH_PREFIX__}/`\n\n  const [show, setShow] = useState(true)\n\n  const [prev, setPrev] = useState(0)\n\n  useEffect(() => {\n    const Scroll = () => {\n      const curScrollY = window.pageYOffset\n\n      if (curScrollY > 80 && prev < curScrollY) {\n        setShow(false)\n      } else {\n        setShow(true)\n      }\n    }\n\n    document.addEventListener(\"scroll\", Scroll)\n\n    return () => {\n      document.removeEventListener(\"scroll\", Scroll)\n    }\n  }, [prev])\n\n  return (\n    <React.Fragment>\n      <Header\n        title={title}\n        location={location}\n        rootPath={rootPath}\n        show={show}\n      />\n\n      <div className={\"global-wrapper\"} style={{ marginTop: \"5rem\" }}>\n        <main>{children}</main>\n        <footer>\n          Â© {new Date().getFullYear()}, Built with\n          {` `}\n          <a href=\"https://www.gatsbyjs.com\">Gatsby</a>\n        </footer>\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default Layout\n","import React, {useMemo} from 'react';\n\nimport './index.scss';\n\n\nexport default function TableOfContents({item, currentHeaderUrl}) {\n    \n    const Item = useMemo(()=>{\n\n        if (currentHeaderUrl) {\n\n            return item.replace(\n                `\"${currentHeaderUrl}\"`,\n                `\"${currentHeaderUrl}\" class=\"current\"`\n            );\n        } else {\n            return item;\n        }\n    },[currentHeaderUrl]);\n\n\n    return item ? (\n\n    <div className=\"menu\">\n                <div \n                className=\"toc\"\n                dangerouslySetInnerHTML={{ __html: Item }}>\n                </div>\n    </div>\n    ) \n    : null\n}","import React, { useEffect, useState } from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport Layout from \"../layout/\"\nimport TableOfContents from \"../components/tableOfContents\"\nimport styled from 'styled-components'\n\nconst BlogPostTemplate = ({ data, pageContext, location }) => {\n  const post = data.markdownRemark\n  const metaData = data.site.siteMetadata\n  const { title, siteUrl, author, sponsor } = metaData\n  const { title: postTitle, date } = post.frontmatter\n\n  const [currentUrl, setCurrentUrl] = useState(undefined)\n\n  useEffect(() => {\n    const handleScroll = () => {\n      let aboveHeaderUrl\n\n      const currentOffsetY = window.pageYOffset\n\n      const headerElements = document.querySelectorAll(`.anchor-header`)\n\n      for (const el of headerElements) {\n        const { top } = el.getBoundingClientRect()\n\n        const elTop = top + currentOffsetY\n\n        const isLast = el === headerElements[headerElements.length - 1]\n\n        if (currentOffsetY < elTop - 100) {\n          aboveHeaderUrl &&\n            setCurrentUrl(aboveHeaderUrl.split(location.origin)[1])\n          !aboveHeaderUrl && setCurrentUrl(undefined)\n          break\n        } else {\n          isLast && setCurrentUrl(el.href.split(location.origin)[1])\n          !isLast && (aboveHeaderUrl = el.href)\n        }\n      }\n    }\n\n    window.addEventListener(\"scroll\", handleScroll)\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll)\n    }\n  }, [])\n\n  return (\n    <Layout location={location} title={postTitle}>\n      <div className=\"post-Wrapper\">\n        <div className=\"content\">\n          <div className=\"header-wrapper\">\n            <h1>{postTitle}</h1>\n            <div className=\"summary-wrapper\">\n              <div className=\"summary\">\n                <div className=\"info\">\n                  <TableOfContents\n                    item={data.markdownRemark.tableOfContents}\n                    currentHeaderUrl={currentUrl}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div\n            className=\"post-content\"\n            dangerouslySetInnerHTML={{ __html: post.html }}\n          ></div>\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author {\n          name\n        }\n        siteUrl\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 280)\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n      }\n    }\n  }\n`\n"],"sourceRoot":""}