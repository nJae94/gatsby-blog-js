{"version":3,"sources":["webpack:///./src/layout/index.js","webpack:///./src/components/tableOfContents/index.js","webpack:///./src/templates/blog-post.js"],"names":["Layout","location","title","children","useState","show","setShow","prev","useEffect","Scroll","curScrollY","window","pageYOffset","document","addEventListener","removeEventListener","Fragment","rootPath","className","style","marginTop","Date","getFullYear","href","TableOfContents","item","currentHeaderUrl","Item","useMemo","replace","dangerouslySetInnerHTML","__html","BlogPostTemplate","data","pageContext","post","markdownRemark","metaData","site","siteMetadata","siteUrl","author","sponsor","frontmatter","postTitle","date","undefined","currentUrl","setCurrentUrl","handleScroll","aboveHeaderUrl","currentOffsetY","headerElements","querySelectorAll","el","elTop","getBoundingClientRect","top","isLast","length","split","origin","tableOfContents","html","pageQuery"],"mappings":"uHAAA,+CAmDeA,IA9CA,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAAe,EAGxBC,oBAAS,GAA1BC,EAHyC,KAGnCC,EAHmC,OAKxBF,mBAAS,GAA1BG,EALyC,UAyBhD,OAlBAC,qBAAU,WACR,IAAMC,EAAS,WACb,IAAMC,EAAaC,OAAOC,YAGxBN,IADEI,EAAa,IAAMH,EAAOG,KAShC,OAFAG,SAASC,iBAAiB,SAAUL,GAE7B,WACLI,SAASE,oBAAoB,SAAUN,MAExC,CAACF,IAGF,kBAAC,IAAMS,SAAP,KACE,kBAAC,IAAD,CACEd,MAAOA,EACPD,SAAUA,EACVgB,SA7BQ,IA8BRZ,KAAMA,IAGR,yBAAKa,UAAW,iBAAkBC,MAAO,CAAEC,UAAW,SACpD,8BAAOjB,GACP,sCACK,IAAIkB,MAAOC,cADhB,mBAGE,uBAAGC,KAAK,4BAAR,e,uKCvCK,SAASC,EAAT,GAAoD,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,iBAErCC,EAAOC,mBAAQ,WAEjB,OAAIF,EAEOD,EAAKI,QAAL,IACCH,EADD,QAECA,EAFD,qBAKAD,IAEb,CAACC,IAGH,OAAOD,EAEP,yBAAKP,UAAU,QACH,yBACAA,UAAU,MACVY,wBAAyB,CAAEC,OAAQJ,MAI7C,K,k0BC6CSK,UAtEU,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAmBhC,GAAe,EAA5BiC,YAA4B,EAAfjC,UACvCkC,EAAOF,EAAKG,eACZC,EAAWJ,EAAKK,KAAKC,aAFiC,GAGhBF,EAApCnC,MAAoCmC,EAA7BG,QAA6BH,EAApBI,OAAoBJ,EAAZK,QACGP,EAAKQ,aAAzBC,EAJ6C,EAIpD1C,MAJoD,KAIlC2C,KAEUzC,wBAAS0C,IAAtCC,EANqD,KAMzCC,EANyC,KA0C5D,OAlCAxC,qBAAU,WACR,IAAMyC,EAAe,WAOnB,IANA,IAAIC,EAMJ,EAJMC,EAAiBxC,OAAOC,YAExBwC,EAAiBvC,SAASwC,iBAAT,kBAEvB,IAAiBD,KAAjB,aAAiC,CAAC,IAAvBE,EAAsB,QAGzBC,EAFUD,EAAGE,wBAAXC,IAEYN,EAEdO,EAASJ,IAAOF,EAAeA,EAAeO,OAAS,GAE7D,GAAIR,EAAiBI,EAAQ,IAAK,CAChCL,GACEF,EAAcE,EAAeU,MAAM3D,EAAS4D,QAAQ,KACrDX,GAAkBF,OAAcF,GACjC,MAEAY,GAAUV,EAAcM,EAAG/B,KAAKqC,MAAM3D,EAAS4D,QAAQ,KACtDH,IAAWR,EAAiBI,EAAG/B,QAOtC,OAFAZ,OAAOG,iBAAiB,SAAUmC,GAE3B,WACLtC,OAAOI,oBAAoB,SAAUkC,MAEtC,IAGD,kBAAC,IAAD,CAAQhD,SAAUA,EAAUC,MAAO0C,GACjC,yBAAK1B,UAAU,eACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,kBACb,4BAAK0B,GACL,yBAAK1B,UAAU,mBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,QACb,kBAACM,EAAD,CACEC,KAAMQ,EAAKG,eAAe0B,gBAC1BpC,iBAAkBqB,QAO5B,yBACE7B,UAAU,eACVY,wBAAyB,CAAEC,OAAQI,EAAK4B,YA9DpD,IAwEaC,EAAS","file":"component---src-templates-blog-post-js-216636e08bc5f6f07b21.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Header } from \"../components/header\"\r\n\r\nimport \"./index.scss\"\r\n\r\nconst Layout = ({ location, title, children }) => {\r\n  const rootPath = `${__PATH_PREFIX__}/`\r\n\r\n  const [show, setShow] = useState(true)\r\n\r\n  const [prev, setPrev] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const Scroll = () => {\r\n      const curScrollY = window.pageYOffset\r\n\r\n      if (curScrollY > 80 && prev < curScrollY) {\r\n        setShow(false)\r\n      } else {\r\n        setShow(true)\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"scroll\", Scroll)\r\n\r\n    return () => {\r\n      document.removeEventListener(\"scroll\", Scroll)\r\n    }\r\n  }, [prev])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header\r\n        title={title}\r\n        location={location}\r\n        rootPath={rootPath}\r\n        show={show}\r\n      />\r\n\r\n      <div className={\"global-wrapper\"} style={{ marginTop: \"5rem\" }}>\r\n        <main>{children}</main>\r\n        <footer>\r\n          Â© {new Date().getFullYear()}, Built with\r\n          {` `}\r\n          <a href=\"https://www.gatsbyjs.com\">Gatsby</a>\r\n        </footer>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React, {useMemo} from 'react';\r\n\r\nimport './index.scss';\r\n\r\n\r\nexport default function TableOfContents({item, currentHeaderUrl}) {\r\n    \r\n    const Item = useMemo(()=>{\r\n\r\n        if (currentHeaderUrl) {\r\n\r\n            return item.replace(\r\n                `\"${currentHeaderUrl}\"`,\r\n                `\"${currentHeaderUrl}\" class=\"current\"`\r\n            );\r\n        } else {\r\n            return item;\r\n        }\r\n    },[currentHeaderUrl]);\r\n\r\n\r\n    return item ? (\r\n\r\n    <div className=\"menu\">\r\n                <div \r\n                className=\"toc\"\r\n                dangerouslySetInnerHTML={{ __html: Item }}>\r\n                </div>\r\n    </div>\r\n    ) \r\n    : null\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { Link, graphql } from \"gatsby\"\r\nimport Layout from \"../layout/\"\r\nimport TableOfContents from \"../components/tableOfContents\"\r\n\r\nconst BlogPostTemplate = ({ data, pageContext, location }) => {\r\n  const post = data.markdownRemark\r\n  const metaData = data.site.siteMetadata\r\n  const { title, siteUrl, author, sponsor } = metaData\r\n  const { title: postTitle, date } = post.frontmatter\r\n\r\n  const [currentUrl, setCurrentUrl] = useState(undefined)\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      let aboveHeaderUrl\r\n\r\n      const currentOffsetY = window.pageYOffset\r\n\r\n      const headerElements = document.querySelectorAll(`.anchor-header`)\r\n\r\n      for (const el of headerElements) {\r\n        const { top } = el.getBoundingClientRect()\r\n\r\n        const elTop = top + currentOffsetY\r\n\r\n        const isLast = el === headerElements[headerElements.length - 1]\r\n\r\n        if (currentOffsetY < elTop - 100) {\r\n          aboveHeaderUrl &&\r\n            setCurrentUrl(aboveHeaderUrl.split(location.origin)[1])\r\n          !aboveHeaderUrl && setCurrentUrl(undefined)\r\n          break\r\n        } else {\r\n          isLast && setCurrentUrl(el.href.split(location.origin)[1])\r\n          !isLast && (aboveHeaderUrl = el.href)\r\n        }\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", handleScroll)\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleScroll)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Layout location={location} title={postTitle}>\r\n      <div className=\"post-Wapper\">\r\n        <div className=\"content\">\r\n          <div className=\"header-wrapper\">\r\n            <h1>{postTitle}</h1>\r\n            <div className=\"summary-wrapper\">\r\n              <div className=\"summary\">\r\n                <div className=\"info\">\r\n                  <TableOfContents\r\n                    item={data.markdownRemark.tableOfContents}\r\n                    currentHeaderUrl={currentUrl}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className=\"post-content\"\r\n            dangerouslySetInnerHTML={{ __html: post.html }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default BlogPostTemplate\r\n\r\nexport const pageQuery = graphql`\r\n  query BlogPostBySlug($slug: String!) {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n        author {\r\n          name\r\n        }\r\n        siteUrl\r\n      }\r\n    }\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      id\r\n      excerpt(pruneLength: 280)\r\n      html\r\n      tableOfContents\r\n      frontmatter {\r\n        title\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"sourceRoot":""}